<ion-header>
  <ion-toolbar>
    <ion-title style="padding:0 0 0 10px;">
      <ion-row class="ion-align-items-center">
        <ion-col size="2" style="text-align:left;padding:0;">
          <ion-icon name="arrow-back" style="font-size:25px;" (click)="closeEditInventoryFamiliesAndPatternsModal()"></ion-icon>
        </ion-col>
        <ion-col size="8" style="text-align:left;white-space:normal;word-wrap:break-word;">
          <b>Modify Inventory Families & Patterns</b>
        </ion-col>
        <ion-col size="2">
          <ion-button fill="clear" (click)="closeAndPassEditedInventoryFamiliesAndPatternModal()">
            <ion-icon name="checkmark"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row>
    <ion-col size="12">
      <ion-card style="margin:0;padding:5px;">
        <ion-list>
          <ion-item>
            <ion-label position="floating">Name</ion-label>
            <ion-input [(ngModel)]="referenceInventoryFamiliesAndPatternsToEdit.name"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Code</ion-label>
            <ion-input [(ngModel)]="referenceInventoryFamiliesAndPatternsToEdit.code"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">SKU</ion-label>
            <ion-textarea [(ngModel)]="referenceInventoryFamiliesAndPatternsToEdit.sku"></ion-textarea>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Description</ion-label>
            <ion-textarea [(ngModel)]="referenceInventoryFamiliesAndPatternsToEdit.desc"></ion-textarea>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Cost</ion-label>
            <ion-input [(ngModel)]="referenceInventoryFamiliesAndPatternsToEdit.cost"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Selling Price</ion-label>
            <ion-input [(ngModel)]="referenceInventoryFamiliesAndPatternsToEdit.price"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Quantity</ion-label>
            <ion-input [(ngModel)]="referenceInventoryFamiliesAndPatternsToEdit.qty"></ion-input>
          </ion-item>
          <ion-item>
            <ion-row class="ion-align-items-center">
              <ion-col size="8">
                <b>On Sale</b>
              </ion-col>
              <ion-col size="4">
                <ion-toggle color="success" [checked]="referenceInventoryFamiliesAndPatternsToEdit.onsale" [(ngModel)]="referenceInventoryFamiliesAndPatternsToEdit.onsale"></ion-toggle>
              </ion-col>
            </ion-row>
          </ion-item>
        </ion-list>
      </ion-card>
      <ion-card style="margin:0px;padding:5px;">
        <ion-row>
          <ion-col size="12">
            <h4 style="border-bottom:1px solid #d9d9d9;">Associated Inventory Patterns&nbsp;<ion-button (click)="openAddInventoryPatternModal()">Add Patterns</ion-button></h4>
            <table class="table table-bordered">
              <thead class="thead-light">
              <tr>
                <th width="85%">
                  Pattern<span *ngIf="tempInventoryPatternsToInsert && tempInventoryPatternsToInsert?.length > 1">s</span>
                </th>
                <th width="5%">
                  Action
                </th>
              </tr>
              </thead>
              <tbody *ngIf="tempInventoryPatternsToInsert?.length === 0">
              <tr>
                <td colspan="2" style="color:grey;">No inventory patterns defined.</td>
              </tr>
              </tbody>
              <tbody *ngIf="tempInventoryPatternsToInsert?.length > 0" style="background-color:white;border-bottom:1px solid #f2f2f2;border-left:1px solid #f2f2f2;border-right:1px solid #f2f2f2;">
              <tr *ngFor="let pattern of tempInventoryPatternsToInsert;let i = index;">
                <td style="padding:3px;">
                  <ion-chip color="success" outline="true" style="white-space:normal;word-wrap:break-word;">
                    {{pattern?.name}}
                  </ion-chip>
                  <div style="white-space:normal;word-wrap:break-word;padding-left:15px;">
                    {{pattern?.desc}}
                  </div>
                </td>
                <td style="padding:3px;text-align:center;">
                  <ion-button fill="clear" style="padding:0;" (click)="removeSelectedInventoryPattern(i)">
                    <ion-icon name="trash" style="color:#cbcbcb;"></ion-icon>
                  </ion-button>
                </td>
              </tr>
              </tbody>
            </table>
          </ion-col>
        </ion-row>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-content>
